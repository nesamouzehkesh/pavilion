{% spaceless %}
    
{% if widget.settings.carousels is defined and widget.settings.carousels|length > 0 %}
    {% set carouselId = 'carousel-generic-' ~ widget.id %}
    {% set carousels = widget.settings.carousels %}
    <div id="{{ carouselId }}" class="carousel slide" data-ride="carousel">
        {# Indicators #}
        <ol class="carousel-indicators">
            {% set i = 0 %}
            {% for carousel in carousels %}
                <li data-target="#{{ carouselId }}" data-slide-to="{{ i }}" {{ i == 0? 'class="active"' : '' }}></li>
                {% set i = i + 1 %}
            {% endfor %}
        </ol>
        {# Wrapper for slides #}
        <div class="carousel-inner" role="listbox">
            {% set i = 0 %}
            {% for carousel in carousels %}
                <div class="item {{ i == 0? 'active' : '' }}">
                    <img src="{{ carousel.image|getPath|imagine_filter('origin') }}" alt="{{ carousel.title }}">
                    <div class="carousel-caption">
                        <h3>{{ carousel.title }}</h3>
                        <p>{{ carousel.description }}</p>
                    </div>
                </div>
                {% set i = i + 1 %}
            {% endfor %}
        </div>
        {# Controls #}
        <a class="left carousel-control" href="#{{ carouselId }}" role="button" data-slide="prev">
            <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="right carousel-control" href="#{{ carouselId }}" role="button" data-slide="next">
            <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>
{% endif %}
{% endspaceless %}