{% import _self as self %}

{% if noLayout is not defined or noLayout == false %}
{% spaceless %}
    {% if saman_displayFullView %}
        <!-- Begin Navbar -->
        <div id="nav">
            <nav class="navbar navbar-inverse navbar-static" role="navigation" style="border-radius: 0">
                <div class="container">

                    <!-- Brand and toggle get grouped for better mobile display -->
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar-collapse">
                            <span class="sr-only">Toggle navigation</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                        <a class="navbar-brand">Saman</a>
                    </div>

                    <!-- Collect the nav links, forms, and other content for toggling -->
                    <div class="collapse navbar-collapse" id="main-navbar-collapse">
                        <ul class="nav navbar-nav">
                            <li class="active"><a href="{{ path('saman_app_display_dashboard') }}">{{ 'icon.home'|icon }} Home</a></li>
                        </ul>
                        {% if app.user is not null and app.user.hasAdminRole %}
                            <ul class="nav pull-right navbar-nav">
                                <li class="dropdown">
                                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">{{ app.user.firstName }} {{ app.user.lastName }}<span class="caret"></span></a>
                                    <ul class="dropdown-menu" role="menu">
                                        {#<li><a href="#">User ...</a></li>#}
                                        {#<li class="divider"></li>#}
                                        <li><a href="{{ path('saman_logout') }}">{{ 'icon.logout'|icon }} {{ 'action.logout'|trans }}</a></li>
                                    </ul>
                                </li>                        
                            </ul>
                        {% endif %}
                    </div><!-- /.navbar-collapse -->	
                </div><!-- /.container-fluid -->
            </nav><!-- /.navbar -->
        </div>
    {% else %}
        <div class="d-margin-top-40"></div>
        <p class="text-right"><a href="{{ path('saman_logout') }}">{{ 'icon.logout'|icon }} {{ 'action.logout'|trans }}</a></p>
    {% endif %}
{% endspaceless %}        
{% endif %}

{% macro isActive(rout) %}
    {% set currentRout = app.request.attributes.get('_route') %}
    {{ (currentRout == rout)? 'active' : '' }}
{% endmacro %}